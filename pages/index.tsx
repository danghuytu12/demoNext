import type { NextPage } from "next";
import Head from "next/head";
import styles from "../styles/Home.module.css";

interface Todo {
  [x: string]: any;
  id: number,
  name?: String,
  image?: String,
}

function Home({ todos }: { todos: Todo[] }) {
  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      {todos.map((todo:Todo) => {
        return (
          <div key={todo.id}>
            <p>Name: {todo.name}</p>
          </div>
        );
      })}
    </div>
  );
}

export const getServerSideProps = async()=>{
  const res=await fetch('https://62e9e38d3a5f1572e87056f4.mockapi.io/api/users')
  const data=await res.json()
  return{
    props:{
      users:data
    }
  }
}

export default Home


